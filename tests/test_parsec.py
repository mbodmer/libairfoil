'''

'''
import unittest

import numpy, math
import libairfoil.parsec as parsec



class TestParsec(unittest.TestCase):

    def _parse_javafoil_parsec11_params(self, string):
        '''parses the JavaFoil parameter string into our PARSEC param object'''
        jfoil = numpy.fromstring(string.replace(',', '.'), dtype=float, sep=':')
#         params = parsec.Parameters()
#         params.r_le       = jfoil[0]
#         params.X_up       = 0.4
#         params.Z_up       = 0.075
#         params.Z_XX_up    = -0.1
#         params.X_lo       = 0.4
#         params.Z_lo       = -0.075
#         params.Z_XX_lo    = 0.1
#         params.Z_te       = 0.0
#         params.dZ_te      = 0.0
#         params.alpha_te   = math.radians(0.0)
#         params.beta_te    = math.radians(20.0)
#         return params

    def testName(self):
        params = self._parse_javafoil_parsec11_params('0,01:0,4:0,075:-0,1:0,075:0,075:-0,1:0:-0:0:20')
        airfoil = parsec.Airfoil(params)
        1,00000000    0,00000000
0,98116667    0,00365591
0,95822222    0,00883517
0,93150000    0,01550735
0,90133333    0,02341024
0,86805556    0,03208125
0,83200000    0,04093427
0,79350000    0,04936126
0,75288889    0,05683477
0,71050000    0,06298945
0,66666667    0,06766698
0,62172222    0,07091725
0,57600000    0,07295802
0,52983333    0,07410356
0,48355556    0,07467861
0,43750000    0,07493622
0,39200000    0,07499670
0,34738889    0,07482051
0,30400000    0,07422028
0,26216667    0,07290934
0,22222222    0,07057594
0,18450000    0,06696678
0,14933333    0,06196035
0,11705556    0,05561203
0,08800000    0,04815822
0,06250000    0,03997501
0,04088889    0,03149790
0,02350000    0,02311931
0,01066667    0,01508883
0,00272222    0,00744447
0,00000000    0,00000000
0,00272222    -0,00744447
0,01066667    -0,01508883
0,02350000    -0,02311931
0,04088889    -0,03149790
0,06250000    -0,03997501
0,08800000    -0,04815822
0,11705556    -0,05561203
0,14933333    -0,06196035
0,18450000    -0,06696678
0,22222222    -0,07057594
0,26216667    -0,07290934
0,30400000    -0,07422028
0,34738889    -0,07482051
0,39200000    -0,07499670
0,43750000    -0,07493622
0,48355556    -0,07467861
0,52983333    -0,07410356
0,57600000    -0,07295802
0,62172222    -0,07091725
0,66666667    -0,06766698
0,71050000    -0,06298945
0,75288889    -0,05683477
0,79350000    -0,04936126
0,83200000    -0,04093427
0,86805556    -0,03208125
0,90133333    -0,02341024
0,93150000    -0,01550735
0,95822222    -0,00883517
0,98116667    -0,00365591
1,00000000    0,00000000
        


if __name__ == "__main__":
    #import sys;sys.argv = ['', 'Test.testName']
    unittest.main()